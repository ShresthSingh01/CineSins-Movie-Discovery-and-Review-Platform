<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CineSins - Movie Reviews</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
  <script type="module" src="main.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
</head>

<body>
  <!-- Ambient Glow Cursor -->
  <div class="cursor-glow"></div>

  <header>
    <div class="container header-content">
      <a href="#" class="logo"><i class="fa-solid fa-film"></i> CineSins</a>
      <button id="mobile-menu-btn" class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
      <nav id="main-nav">
        <ul>
          <li><a href="#" data-section="home" class="active">Home</a></li>
          <li><a href="#" data-section="cinemadna">CinemaDNA Dashboard</a></li>
          <li><a href="#" data-section="decision-mode" id="nav-decision-mode">Decision Mode</a></li>
          <li><a href="#" data-section="reviews">My Reviews</a></li>
          <li><a href="#" data-section="settings">Settings</a></li>
        </ul>
      </nav>
      <div id="offline-badge"
        style="display:none; background:#e67e22; color:#fff; padding:4px 8px; border-radius:4px; font-size:0.8rem; margin-left:10px;">
        Offline Available</div>
      <button id="install-btn"
        style="display:none; background:#2ecc71; color:#fff; padding:6px 12px; border:none; border-radius:4px; margin-left:10px; cursor:pointer;">Install
        App</button>
      <input type="file" id="import-file" style="display:none;" accept=".json">
    </div>
  </header>

  <!-- Home -->
  <section id="home" class="page-section active" style="padding-top: 0;">
    <div class="hero-section" id="hero-area">
      <!-- Animated floating background elements -->
      <div id="particles-container"></div>


      <div class="hero-content container">
        <h1 class="hero-title">Discover Your Next Cinematic Obsession</h1>
        <p class="hero-subtitle">Search millions of movies, log your reviews, and find hidden gems.</p>

        <p style="font-size: 0.9rem; margin-bottom: 15px; color: var(--text-muted); opacity: 0.8;">Tip: Search
          "scene:rain" to find movies tagged with "rain"</p>

        <div class="search-container hero-search">
          <div class="autocomplete-wrapper" style="flex:1;">
            <input type="text" id="search-input" placeholder="Enter a movie title..." style="width:100%;">
          </div>
          <button id="search-btn" class="search-btn"><i class="fas fa-search"></i> Search</button>
          <button id="decision-mode-btn" class="search-btn"><i class="fas fa-magic"></i> Decide</button>
        </div>
      </div>
      <div class="hero-gradient-overlay"></div>
    </div>
    <div class="container">
      <h2 class="section-title">Popular Movies</h2>
      <div id="movie-results" class="movie-grid"></div>
    </div>
    <div class="recent-searches">
      <h3>Recent Searches</h3>
      <ul id="recent-list"></ul>
    </div>
  </section>

  <!-- Reviews -->
  <section id="reviews" class="page-section">
    <div class="container">
      <h2 class="section-title">My Reviews</h2>
      <div id="reviews-list"></div>
    </div>
  </section>

  <!-- Watchlist -->
  <section id="watchlist" class="page-section">
    <div class="container">
      <h2 class="section-title" style="color: #34495e;"><i class="fas fa-bookmark"></i> My Watchlist</h2>
      <p style="text-align: center; color: #aaa; margin-bottom: 20px;">Movies you want to watch later.</p>
      <div id="watchlist-list" class="movie-grid"></div>
    </div>
  </section>

  <!-- Hidden Gems -->
  <section id="hidden-gems" class="page-section">
    <div class="container">
      <h2 class="section-title" style="color: #9b59b6;"><i class="fas fa-gem"></i> Hidden Gems</h2>
      <p style="text-align: center; color: #aaa; margin-bottom: 20px;">High rating, surprisingly low votes. Top 20
        calculated from local cache.</p>
      <div id="hidden-gems-list" class="movie-grid"></div>
    </div>
  </section>

  <!-- Compatibility Mode -->
  <section id="compatibility" class="page-section">
    <div class="container">
      <h2 class="section-title" style="color: #e74c3c;"><i class="fas fa-heart"></i> Compatibility Mode</h2>
      <p style="text-align: center; color: #aaa; margin-bottom: 20px;">Enter 3 favorite movies for each person to
        compute relationship compatibility & joint picks.</p>

      <div style="display: flex; gap: 20px; flex-wrap: wrap;">
        <div style="flex: 1; background: #222; padding: 20px; border-radius: 8px; min-width: 250px;">
          <h3>Person A Favorites</h3>
          <div class="autocomplete-wrapper">
            <input type="text" id="pa-1" placeholder="1. e.g. The Matrix"
              style="width:100%; margin:8px 0; padding:10px; background:#333; color:#fff; border:1px solid #555; border-radius:4px;">
          </div>
          <div class="autocomplete-wrapper">
            <input type="text" id="pa-2" placeholder="2. e.g. Gladiator"
              style="width:100%; margin:8px 0; padding:10px; background:#333; color:#fff; border:1px solid #555; border-radius:4px;">
          </div>
          <div class="autocomplete-wrapper">
            <input type="text" id="pa-3" placeholder="3. e.g. Alien"
              style="width:100%; margin:8px 0; padding:10px; background:#333; color:#fff; border:1px solid #555; border-radius:4px;">
          </div>
        </div>
        <div style="flex: 1; background: #222; padding: 20px; border-radius: 8px; min-width: 250px;">
          <h3>Person B Favorites</h3>
          <div class="autocomplete-wrapper">
            <input type="text" id="pb-1" placeholder="1. e.g. Inception"
              style="width:100%; margin:8px 0; padding:10px; background:#333; color:#fff; border:1px solid #555; border-radius:4px;">
          </div>
          <div class="autocomplete-wrapper">
            <input type="text" id="pb-2" placeholder="2. e.g. The Notebook"
              style="width:100%; margin:8px 0; padding:10px; background:#333; color:#fff; border:1px solid #555; border-radius:4px;">
          </div>
          <div class="autocomplete-wrapper">
            <input type="text" id="pb-3" placeholder="3. e.g. Titanic"
              style="width:100%; margin:8px 0; padding:10px; background:#333; color:#fff; border:1px solid #555; border-radius:4px;">
          </div>
        </div>
      </div>
      <button id="calc-compat-btn" class="save-btn"
        style="margin-top: 20px; width: 100%; padding: 15px; font-size: 1.1rem; background: #e74c3c;">Calculate
        Compatibility</button>

      <div id="compat-results"
        style="display:none; margin-top: 30px; background: #1a1a1a; padding: 20px; border-radius: 8px; border: 1px solid #333;">
        <h3 style="text-align: center; color: #e74c3c; font-size: 2.5rem; margin-bottom: 5px;">Score: <span
            id="compat-score"></span>%</h3>
        <p style="text-align: center; margin-bottom: 20px; font-size: 1.1rem;">Common DNA: <span id="compat-genres"
            style="color: gold; font-weight: bold;"></span></p>

        <h4
          style="margin-top: 20px; margin-bottom: 15px; color: #3498db; border-bottom: 1px solid #333; padding-bottom: 10px;">
          Recommended Movie Date Picks</h4>
        <div id="compat-movies-list" class="movie-grid"></div>

        <div style="text-align: center; margin-top: 30px;">
          <button id="generate-compat-share-btn" class="save-btn"
            style="background:#2ecc71; padding: 12px 24px; font-size: 1.1rem;"><i class="fas fa-download"></i> Generate
            Share Card</button>
        </div>

        <canvas id="compat-share-canvas" width="600" height="800" style="display:none;"></canvas>
      </div>
    </div>
  </section>

  <!-- CinemaDNA -->
  <section id="cinemadna" class="page-section">
    <div class="container">
      <h2 class="section-title" style="color: #3498db;"><i class="fas fa-chart-pie"></i> CinemaDNA</h2>
      <p style="text-align: center; color: #aaa; margin-bottom: 20px;">Your personal movie analytics dashboard.</p>

      <div class="dna-stats-grid"
        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
        <div class="stat-card"
          style="background:#222; padding:15px; border-radius:8px; border-bottom: 3px solid #e74c3c;">
          <h4 style="color:#aaa; font-size:0.9rem;">Favorite Genre</h4>
          <p id="dna-genre" style="font-size:1.5rem; font-weight:bold; color:#e74c3c;">-</p>
        </div>
        <div class="stat-card"
          style="background:#222; padding:15px; border-radius:8px; border-bottom: 3px solid #3498db;">
          <h4 style="color:#aaa; font-size:0.9rem;">Avg Rating</h4>
          <p id="dna-rating" style="font-size:1.5rem; font-weight:bold; color:#3498db;">-</p>
        </div>
        <div class="stat-card"
          style="background:#222; padding:15px; border-radius:8px; border-bottom: 3px solid #2ecc71;">
          <h4 style="color:#aaa; font-size:0.9rem;">Mood Trend</h4>
          <p id="dna-mood" style="font-size:1.5rem; font-weight:bold; color:#2ecc71;">-</p>
        </div>
        <div class="stat-card"
          style="background:#222; padding:15px; border-radius:8px; border-bottom: 3px solid #f1c40f;">
          <h4 style="color:#aaa; font-size:0.9rem;">Total Reviews</h4>
          <p id="dna-reviews" style="font-size:1.5rem; font-weight:bold; color:#f1c40f;">-</p>
        </div>
      </div>

      <div style="background:#222; padding:20px; border-radius:8px; margin-bottom: 30px;">
        <h4 style="color:#aaa; font-size:0.9rem; margin-bottom:10px;">Top Directors</h4>
        <ul id="dna-directors" style="list-style:none; padding:0; display:flex; gap:10px; flex-wrap:wrap;"></ul>
      </div>

      <div style="background:#222; padding:20px; border-radius:8px; margin-bottom: 30px;">
        <h4 style="color:#aaa; font-size:0.9rem; margin-bottom:10px;">Genre Distribution</h4>
        <canvas id="dna-chart" width="800" height="200"
          style="width:100%; max-width:800px; height:200px; background:#111; border-radius:4px;"></canvas>
      </div>

      <div style="text-align: center;">
        <button id="generate-share-btn" class="save-btn"
          style="background:#3498db; padding: 12px 24px; font-size: 1.1rem;"><i class="fas fa-download"></i> Generate
          Share Card</button>
      </div>

      <canvas id="dna-share-canvas" width="600" height="800" style="display:none;"></canvas>
    </div>
  </section>

  <div id="review-modal" class="modal">
    <div class="modal-content">
      <span id="close-modal" class="close">&times;</span>
      <h2 id="modal-title"></h2>
      <img id="modal-poster" src="" alt="Poster">

      <!-- Movie Scene Carousel -->
      <div id="modal-carousel" class="carousel-container">
        <div class="carousel-track" id="carousel-track"></div>
        <button class="carousel-btn prev" id="carousel-prev"><i class="fas fa-chevron-left"></i></button>
        <button class="carousel-btn next" id="carousel-next"><i class="fas fa-chevron-right"></i></button>
        <div class="carousel-dots" id="carousel-dots"></div>
      </div>

      <p id="modal-plot" style="margin-bottom: 15px; color: #ddd; line-height: 1.5; font-size: 0.95rem;"></p>
      <div class="rating-system">
        <p>Scene Tags:</p>
        <div id="modal-tags" class="tag-list"></div>
        <div style="display: flex; gap: 5px; margin-bottom: 15px;">
          <input type="text" id="new-tag-input" placeholder="Add a scene tag... (e.g. courtroom)">
          <button id="add-tag-btn" class="save-btn" style="flex: 0 0 60px; padding: 5px;">Add</button>
        </div>

        <p>Rate this movie:</p>
        <div id="star-container"></div>
        <p>Your review:</p>
        <textarea id="review-text" maxlength="300"></textarea>
        <div id="char-count">0/300</div>
        <div style="display: flex; gap: 10px; margin-top: 15px;">
          <button id="watchlist-btn" class="save-btn" style="flex: 1; background: #34495e;"><i
              class="fas fa-bookmark"></i> Watchlist</button>
          <a id="watch-now-btn" href="#" target="_blank" class="save-btn"
            style="flex: 1; background: #e50914; text-decoration: none; display: flex; align-items: center; justify-content: center; color: white;"><i
              class="fas fa-play" style="margin-right: 5px;"></i> Watch</a>
          <button id="save-review" class="save-btn" style="flex: 1;">Save Review</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Settings -->
  <section id="settings" class="page-section">
    <div class="container">
      <h2 class="section-title"><i class="fas fa-cog"></i> Settings</h2>
      <p style="text-align: center; color: #aaa;">Coming soon. Manage your offline cache, data exports, and theme
        preferences here.</p>
    </div>
  </section>

  <!-- Decision Modal -->
  <div id="decision-modal" class="modal">
    <div class="modal-content" style="max-width: 600px;">
      <span id="close-decision-modal" class="close">&times;</span>
      <h2 id="decision-modal-title" class="section-title">Decision Mode</h2>
      <div class="decision-form">
        <label>Mood:
          <select id="decision-mood">
            <option value="Comfort">Comfort</option>
            <option value="Exciting">Exciting</option>
            <option value="Thoughtful">Thoughtful</option>
            <option value="Laugh">Laugh</option>
          </select>
        </label>
        <label>Available Time:
          <select id="decision-time">
            <option value="90">&lt;= 90 mins</option>
            <option value="120">&lt;= 120 mins</option>
            <option value="999">&gt; 120 mins</option>
          </select>
        </label>
        <label>Company:
          <select id="decision-company">
            <option value="Alone">Alone</option>
            <option value="Couple">Couple</option>
            <option value="Family">Family</option>
          </select>
        </label>
        <button id="get-recommendations-btn" class="save-btn" style="margin-top: 15px;">Get Recommendations</button>
      </div>
      <div id="decision-results" class="movie-grid" style="margin-top: 20px;"></div>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 CineSins</p>
  </footer>
</body>

</html>